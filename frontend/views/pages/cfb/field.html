<html>
<body style="background-color: darkgreen;">
    <div class="canvas-container">
        <canvas style="border: 12px white solid;" id="football-field" width="720px" height="300px"></canvas>
    </div>
</body>
<script>
    function Field(elementId, fieldColor = "rgb(0, 153, 41)", team1 = {color: "#B3A369", url: "https://a.espncdn.com/i/teamlogos/ncaa/500/59.png"}, team2 = {color: "#80000A", url: "https://a.espncdn.com/i/teamlogos/ncaa/500/60.png"}, baseLineWidth = 10) {	
        this.currentPoint = 0;
        this.currentPlayY = 10;

        this.sourceElement = document.getElementById(elementId)
        
        this.ctx = this.sourceElement.getContext('2d');
        this.fieldHeight = this.sourceElement.clientHeight;
        this.fieldWidth = this.sourceElement.clientWidth;

        this.playLineWidth = (baseLineWidth / 300) * this.fieldHeight
        this.playYSpacer = ((baseLineWidth / 5) / 300) * this.fieldHeight;

        this.fieldColor = fieldColor;
        this.fieldSegment = this.fieldWidth / 12;
        
        this.draw = function() {
            this.ctx.fillStyle = this.fieldColor
            this.ctx.fillRect(0, 0, this.fieldWidth, this.fieldHeight);
            this.fillEndZones();
            this.drawFieldLines();
        }

        this.drawMidfieldLogo = function(url) {
            var ctx = this.ctx;
            let fieldWidth = this.fieldWidth;
            let fieldHeight = this.fieldHeight;

            logo = new Image();
            logo.src = url;
            logo.onload = function() {
                var imgSize = (75 / 300) * fieldHeight;                                 // get the context
                // ctx.save();
                ctx.save()
                ctx.drawImage(logo, (fieldWidth / 2) - (imgSize / 2), (fieldHeight / 2) - (imgSize / 2), imgSize, imgSize);   
                ctx.restore();
            }
        }
        
        this.drawFieldLines = function() {   
            this.ctx.strokeStyle = "rgb(255, 255, 255)";
            this.ctx.lineWidth = 2;

            let hashmarkWidth = this.fieldSegment / 10
            let fiveYardHeight = (8 / 300) * this.fieldHeight
            let twoYardHeight = (5 / 300) * this.fieldHeight
            
            // actual field height = 53.3 yards
            // hash width = 40 feet
            let middleHashmarkSeparation = ((40 * 1.875) / 300) * this.fieldHeight

            //create yard lines
            for(var i = 0; i < 11; i++) {
                if (i != 0) {
                    // top
                    for (var j = 0; j < 5; j++) {
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), 0, twoYardHeight);
                    }
                    this.drawVerticalLine((i * this.fieldSegment) + 5 * hashmarkWidth, 0, fiveYardHeight);
                    for (var j = 6; j < 10; j++) {
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), 0, twoYardHeight);
                    }

                    for (var j = 0; j < 10; j++) {
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), (this.fieldHeight / 2) - (middleHashmarkSeparation / 2) - (fiveYardHeight / 2), (this.fieldHeight / 2) - (middleHashmarkSeparation / 2) + (fiveYardHeight / 2));
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), (this.fieldHeight / 2) + (middleHashmarkSeparation / 2) - (fiveYardHeight / 2), (this.fieldHeight / 2) + (middleHashmarkSeparation / 2) + (fiveYardHeight / 2));
                    }

                    // bottom
                    for (var j = 0; j < 5; j++) {
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), (this.fieldHeight - twoYardHeight), this.fieldHeight);
                    }
                    this.drawVerticalLine((i * this.fieldSegment) + 5 * hashmarkWidth, (this.fieldHeight - fiveYardHeight), this.fieldHeight);
                    for (var j = 6; j < 10; j++) {
                        this.drawVerticalLine((i * this.fieldSegment) + (j * hashmarkWidth), (this.fieldHeight - twoYardHeight), this.fieldHeight);
                    }
                }

                if (i == 1 || i == 10) {
                    this.drawVerticalLine((i * this.fieldSegment) + 5 * hashmarkWidth, (this.fieldHeight / 2) - (fiveYardHeight / 2), (this.fieldHeight / 2) + (fiveYardHeight / 2));
                }

                this.drawVerticalLine(this.fieldSegment + (i * this.fieldSegment));
            }

            let goalpostWidth = (18.5 * 1.875 / 300) * this.fieldHeight
            this.drawLine(0, (this.fieldHeight / 2) - (goalpostWidth / 2), 0, (this.fieldHeight / 2) + (goalpostWidth / 2), lineWidth = 10, color = "yellow");
            this.drawLine(this.fieldWidth, (this.fieldHeight / 2) - (goalpostWidth / 2), this.fieldWidth, (this.fieldHeight / 2) + (goalpostWidth / 2), lineWidth = 10, color = "yellow");
            // this.drawMidfieldLogo(team1.url)
        }
        
        this.drawVerticalLine = function(x, minY = 0, maxY = this.fieldHeight){
            this.ctx.beginPath();
            this.ctx.moveTo(x, minY);
            this.ctx.lineTo(x, maxY);
            this.ctx.stroke();
        }

        this.drawHorizontalLine = function(minX = 0, maxX = this.fieldWidth, y = 0){
            this.ctx.beginPath();
            this.ctx.moveTo(minX, y);
            this.ctx.lineTo(maxX, y);
            this.ctx.stroke();
        }

        this.drawLine = function(minX = 0, minY = 0, maxX = this.fieldWidth, maxY = this.fieldHeight, lineWidth = null, color = null) {
            if (color) {
                this.ctx.strokeStyle = color;
            }

            if (lineWidth) {
                this.ctx.lineWidth = lineWidth;
            }

            this.ctx.beginPath();
            this.ctx.moveTo(minX, minY);
            this.ctx.lineTo(maxX, maxY);
            this.ctx.stroke();
        }
        
        this.fillEndZones = function() {
            this.ctx.fillStyle = team1.color;
            this.ctx.fillRect(0, 0, this.fieldSegment, this.fieldHeight);
            this.ctx.fillStyle = team2.color;
            this.ctx.fillRect(this.fieldWidth - this.fieldSegment, 0, this.fieldSegment, this.fieldHeight);
        }

        this.translateYardsToGoal = function(x) {
            return (((100 - x) / 100) * (this.fieldWidth - (2 * this.fieldSegment))) + this.fieldSegment
        }

        this.markPlay = function(team, startYardline, endYardline) {
            startX = this.translateYardsToGoal(startYardline)
            endX = this.translateYardsToGoal(endYardline)

            this.drawLine(startX, this.currentPlayY, endX - 4, this.currentPlayY, lineWidth = this.playLineWidth, color = team)
            this.drawLine(endX - 4, this.currentPlayY, endX, this.currentPlayY, lineWidth = this.playLineWidth, color = "black")
            this.currentPlayY = this.currentPlayY + this.playLineWidth + this.playYSpacer;
        }

        this.draw();
    }

    
</script>
<script>
    (function() {
        var field = new Field('football-field');
        // field.markPlay("dodgerblue", 75, 40)
        // field.markPlay("goldenrod", 75, 40)
        // field.markPlay("goldenrod", 100, 40)
        // field.markPlay("dodgerblue", 25, 40)
        // field.markPlay("dodgerblue", 25, 0)
    })();
</script>
</html>